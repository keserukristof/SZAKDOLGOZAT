{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kristof\\\\Documents\\\\GitHub\\\\SZAKDOLGOZAT\\\\your-time-frontend\\\\src\\\\components\\\\authentication\\\\LoginForm.js\";\nimport React, { useState } from 'react';\nimport OktaAuth from '@okta/okta-auth-js';\nimport { useOktaAuth } from '@okta/okta-react';\n\nconst LoginForm = ({\n  baseUrl\n}) => {\n  const {\n    authService\n  } = useOktaAuth();\n  const [sessionToken, setSessionToken] = useState();\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const oktaAuth = new OktaAuth({\n      url: baseUrl\n    });\n    oktaAuth.signIn({\n      username,\n      password\n    }).then(res => setSessionToken(res.sessionToken)).catch(err => console.log('Found an error', err));\n  };\n\n  const handleUsernameChange = e => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = e => {\n    setPassword(e.target.value);\n  };\n\n  if (sessionToken) {\n    authService.redirect({\n      sessionToken\n    });\n    return null;\n  }\n\n  return React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Username:\", React.createElement(\"input\", {\n    id: \"username\",\n    type: \"text\",\n    value: username,\n    onChange: handleUsernameChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Password:\", React.createElement(\"input\", {\n    id: \"password\",\n    type: \"password\",\n    value: password,\n    onChange: handlePasswordChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    id: \"submit\",\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/Kristof/Documents/GitHub/SZAKDOLGOZAT/your-time-frontend/src/components/authentication/LoginForm.js"],"names":["React","useState","OktaAuth","useOktaAuth","LoginForm","baseUrl","authService","sessionToken","setSessionToken","username","setUsername","password","setPassword","handleSubmit","e","preventDefault","oktaAuth","url","signIn","then","res","catch","err","console","log","handleUsernameChange","target","value","handlePasswordChange","redirect"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAkBH,WAAW,EAAnC;AACA,QAAM,CAACI,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,EAAhD;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,EAAxC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,EAAxC;;AAEA,QAAMY,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,QAAQ,GAAG,IAAId,QAAJ,CAAa;AAAEe,MAAAA,GAAG,EAAEZ;AAAP,KAAb,CAAjB;AACAW,IAAAA,QAAQ,CAACE,MAAT,CAAgB;AAAET,MAAAA,QAAF;AAAYE,MAAAA;AAAZ,KAAhB,EACGQ,IADH,CACQC,GAAG,IAAIZ,eAAe,CAACY,GAAG,CAACb,YAAL,CAD9B,EAEGc,KAFH,CAESC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,GAA9B,CAFhB;AAGD,GAND;;AAQA,QAAMG,oBAAoB,GAAIX,CAAD,IAAO;AAClCJ,IAAAA,WAAW,CAACI,CAAC,CAACY,MAAF,CAASC,KAAV,CAAX;AACD,GAFD;;AAIA,QAAMC,oBAAoB,GAAId,CAAD,IAAO;AAClCF,IAAAA,WAAW,CAACE,CAAC,CAACY,MAAF,CAASC,KAAV,CAAX;AACD,GAFD;;AAIA,MAAIpB,YAAJ,EAAkB;AAChBD,IAAAA,WAAW,CAACuB,QAAZ,CAAqB;AAAEtB,MAAAA;AAAF,KAArB;AACA,WAAO,IAAP;AACD;;AAED,SACE;AAAM,IAAA,QAAQ,EAAEM,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AACE,IAAA,EAAE,EAAC,UADL;AACgB,IAAA,IAAI,EAAC,MADrB;AAEE,IAAA,KAAK,EAAEJ,QAFT;AAGE,IAAA,QAAQ,EAAEgB,oBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AACE,IAAA,EAAE,EAAC,UADL;AACgB,IAAA,IAAI,EAAC,UADrB;AAEE,IAAA,KAAK,EAAEd,QAFT;AAGE,IAAA,QAAQ,EAAEiB,oBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CARF,EAeE;AAAO,IAAA,EAAE,EAAC,QAAV;AAAmB,IAAA,IAAI,EAAC,QAAxB;AAAiC,IAAA,KAAK,EAAC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfF,CADF;AAmBD,CA9CD;;AA+CA,eAAexB,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport OktaAuth from '@okta/okta-auth-js';\r\nimport { useOktaAuth } from '@okta/okta-react';\r\n\r\nconst LoginForm = ({ baseUrl }) => { \r\n  const { authService } = useOktaAuth();\r\n  const [sessionToken, setSessionToken] = useState();\r\n  const [username, setUsername] = useState();\r\n  const [password, setPassword] = useState();\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const oktaAuth = new OktaAuth({ url: baseUrl });\r\n    oktaAuth.signIn({ username, password })\r\n      .then(res => setSessionToken(res.sessionToken))\r\n      .catch(err => console.log('Found an error', err));\r\n  };\r\n\r\n  const handleUsernameChange = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  if (sessionToken) {\r\n    authService.redirect({ sessionToken });\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <label>\r\n        Username:\r\n        <input\r\n          id=\"username\" type=\"text\"\r\n          value={username}\r\n          onChange={handleUsernameChange} />\r\n      </label>\r\n      <label>\r\n        Password:\r\n        <input\r\n          id=\"password\" type=\"password\"\r\n          value={password}\r\n          onChange={handlePasswordChange} />\r\n      </label>\r\n      <input id=\"submit\" type=\"submit\" value=\"Submit\" />\r\n    </form>\r\n  );\r\n};\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}